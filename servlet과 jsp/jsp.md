[JSP](#JSP)

[JSP의 3단계 작업 과정](#JSP의-3단계-작업-과정)

[JSP 스크립트 요소](#JSP-스크립트-요소)

[디렉티브 태그](#디렉티브-태그)

[JSP 액션태그](#JSP-액션태그)

[스크립트 요소 이용해 실습하기](#스크립트-요소-이용해-실습하기)







# JSP

- Java server page 의 줄임말로 자바로 서버 페이지를 작성하기 위한 언어
- **HTML과 JSP태그로 구성**되어 화면을 작성하는 데 유리한 웹프로그래밍 기술
- 서버 페이지는 웹 서버에서 실행되는 페이지를 말하며 요청에 필요한 페이지를 위한 로직이나 
  데이터 베이스와의 연동을 위해 필요한 것들을 포함합니다.
  이러한 서버 페이지에서 실행되는 로직을 구현하기 위해서는 프로그래밍 언어가 필요한데, JSP에서는 
  자바를 사용하고 있습니다. 

```java
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Addition</title>
</head>
<body>
	<%
		int num1 = 20;
		int num2 = 10;
		int add = num1 + num2;
	
	%>
	<%=num1%>+<%=num2%>=<%=add%>
</body>
</html>
```

- language="java"는 사용하는 언어가 자바이며 
  contentType="text/html"; 은 이 페이지가 html문서이며
  charaset=UTF-8 pageEncoding="UTF-8"은 한글 인코딩을 UTF-8로 처리하겠다는 의미입니다. 
  <% %>태그를 스크립트릿이라고 하고 <%= %>태그는 표현식이라고 합니다. 

- JSP 페이지에 기술한 내용은 HTML로 간주되기 때문에 
  자바 코드의 결과값을 출력하기 위해서는 <% %>태그 내부에 기술해야 하며 
  변수에 저장된 값이나 함수의 결과값을 출력하기 위해서는 <%= %>태그를 사용해야 합니다. 



## JSP의 3단계 작업 과정

1. **변환** 단계 : 컨테이너는 JSP 파일을 자바 파일로 변환합니다. 
2. **컴파일** 단계 : 컨테이너는 변환된 자바 파일을 클래스 파일로 컴파일합니다. 
3. **실행 단계** : 컨테이너는 class파일을 실행하여 그 결과(HTML,CSS와 자바스크립트 코드)를 브라우저로 전송해 출력합니다. 

: 브라우저에서 jsp파일을 요청하면 톰캣 컨테이너는 요청된 jsp파일을 자바파일로 변환합니다. 그리고 변환된 자바 파일을 클래스 파일로 컴파일합니다. 이 클래스 파일을 실행하여 브라우저로 결괏값을 전송하면 JSP가 브라우저 화면에 표시됩니다. 즉, 브라우저로 전송되는 결과는 HTML,CSS와 자바스크립트로 변환된 파일입니다. 



## JSP 스크립트 요소

스크립트 요소란 JSP페이지에서 여러 가지 동적인 처리를 제공하는 기능으로, <% %> 기호 안에 자바 코드로 구현합니다. 

스크립트 요소의 종류는 다음과 같이 세 가지 입니다. 



- 선언문 (declaration tag) : JSP에서 변수나 메서드를 선언할 때 사용합니다. 
- 스크립트릿(scriptlet) : JSP에서 자바 코드를 작성할 때 사용합니다. 
- 표현식(expression tag) : JSP에서 변수의 값을 출력할 때 사용합니다. 



## 디렉티브 태그

- 페이지 디렉티브 태그 : jsp페이지의 전반적인 정보를 지정할 때 사용하는 태그 

  **<%@ page 속성1="값1" 속성2="값2" 속성3="값3".... %>**

- 인클루드 디렉티브 태그 : 공통으로 사용하는 jsp 페이지를 다른 jsp페이지에 추가할 때 사용

- 태그라이브 디렉티브 태그 : 개발자나 프레임워크에서 제공하는 태그를 사용할 때 사용





## JSP 액션태그

JSP가 등장하게 된 배경은 디자이너가 자바 코드를 사용하지 않고도 쉽게 화면을 구현할 수 있도록 하기 위함이었다고 앞서 설명했습니다. 

하지만 화면이 점차 복잡해지면서 디자이너들은 상황에 따라 HTML 태그에 자바 코드를 같이 써야 하는 문제로 어려움을 겪게 되었습니다. 

따라서 JSP는 자바스크립트의 자바 코드를 제거하고 디자이너 입장에서 더 쉽고 편리하게 작업할 수 있는 태그 형태로 기능을 제공하게 되었고, 다음과 같은 액션 태그들로 자바 코드를 대신하게 되었습니다. 

| 이름                 | 형식                | 설명 |
| -------------------- | ------------------- | ---- |
| 인클루드 액션 태그   | < jsp:include > | 이미 있는 JSP를 현재 JSP에 포함하는 태그<br />(공통으로 사용되는 JSP페이지를 미리 만들어놓고 JSP페이지 요청시 인클루드 디렉티브 태그를 사용) |
| 포워드 액션 태그     | < jsp:forward > | 서블릿에서 RequestDispatcher 클래스의 포워드 기능을 대신하는 태그 |
| 유지빈 액션 태그     | < jsp:useBean > | 객체를 생성하기 위한 new 연산자를 대신하는 태그 |
| 셋프로퍼티 액션 태그 | < jsp:setProperty > | setter를 대신하는 태그 |
| 겟프로퍼티 액션 태그 | < jsp:getProperty > | getter를 대신하는 태그 |



## 스크립트 요소 이용해 실습하기 
